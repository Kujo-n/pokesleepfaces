# UI実装ウォークスルー

## 概要
Next.js と Firebase を使用した、ポケモンスリープ寝顔図鑑管理アプリの実装状況です。
**1画面完結型**のUIと、**Firestoreによるデータ永続化**を実現しています。

## 実装機能

### 1. メイン画面 (Dashboard & List)
- **進捗状況バー**: 全体および**睡眠タイプ別（うとうと/すやすや/ぐっすり）**の収集率を表示。
- **フィールドフィルター**: 出現フィールド（ワカクサ本島、**ゴールド旧発電所**、**ワカクサ本島Ex**、**アンバー渓谷**など）でポケモンを絞り込み可能。
    - **フィルター連動**: フィルター選択時、進捗バーはそのフィールドに出現するポケモンの収集率を表示します。
    - **レスポンシブ表示**: 画面幅に応じてフィルターボタンが自動的に折り返され、全てのフィールドが見やすく表示されます。
- **睡眠タイプフィルター**: 「うとうと」「すやすや」「ぐっすり」のタイプ別で絞り込み可能。
- **未収集フィルター**: 「未収集のみ」チェックボックスで、まだ集めていない寝顔だけを表示可能。
- **一括操作ボタン**: 「表示中を全チェック」「全解除」ボタンをヘッダーに配置（アコーディオン式で誤操作防止）。

### 2. ポケモンカード (Pokemon Card)
- **日本語表記**: 睡眠タイプを日本語（うとうと等）で表示。
- **出現フィールド**: 各ポケモンが出現するフィールドを表示。
- **展開/折りたたみ**: 各ポケモンの詳細を隠して一覧性を確保可能。
- **カード内一括操作**: ポケモン単位での「全選択/全解除」も実装。

### 3. バックエンド連携 (Backend Integration)
- **ユーザー認証**: Googleアカウントでのログイン/ログアウト機能。
    - ログイン時: 収集状況がクラウド (Firestore) に保存・同期されます。
    - 未ログイン時: ブラウザのローカルストレージ（または一時メモリ）で動作します。
- **データ永続化**:
    - ユーザーごとのコレクションデータをFirestoreの `users/{userId}/collections` に保存。
    - 複数のデバイス間で進捗を同期可能。

## 確認方法
以下のコマンドでローカルサーバーを起動し、ブラウザで確認できます。

```powershell
npm run dev
```
アクセス先: `http://localhost:3000`

※ Firebase連携機能を使用するには、`.env.local` の設定が必要です（`docs/setup_guide.md` 参照）。
