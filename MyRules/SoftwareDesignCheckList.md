# ソフトウェア設計チェックリスト

コードレビュー時に確認すべき設計ポイントです。  
詳細は [SoftwareDesignRule.md](./SoftwareDesignRule.md) を参照してください。

---

## A. 責務と構造
- [ ] **SRP**: そのクラス/コンポーネントを分割する「2つ目の理由」が見当たらないか？
- [ ] **DIP**: 外部ライブラリやDB、APIの具体的な詳細にロジックが依存しすぎていないか？（インターフェースを介しているか？）
- [ ] **KISS**: その抽象化は、今すぐ必要か？ むしろ可読性を下げていないか？
- [ ] **疎結合**: モジュール間の依存関係は循環していないか？

## B. 状態とデータフロー
- [ ] **不変性**: state やオブジェクトを直接変更（破壊的変更）していないか？
- [ ] **派生データ**: state に保存せず、既存のデータから計算（memo化等）で出せる値ではないか？
- [ ] **Prop Drilling**: コンポーネントの階層が深すぎて、バケツリレーが発生していないか？

## C. 信頼性と安全
- [ ] **エラー処理**: 例外が発生した際、ユーザーに適切なフォールバック（エラー表示）があるか？
- [ ] **Error Boundary**: コンポーネントのエラーが親に伝播して全体がクラッシュしないか？
- [ ] **セキュリティ**: ユーザー入力をそのままHTMLに出力したり、APIに渡したりしていないか？
- [ ] **テスタビリティ**: そのコードに対して、モックを使いすぎずにテストが書けるか？

## D. パフォーマンス
- [ ] **メモ化**: 重い計算やコンポーネントに適切にmemo化（useMemo, useCallback, React.memo）を適用しているか？
- [ ] **遅延読み込み**: 初期表示に不要なモジュールは遅延読み込み（dynamic import）にしているか？
- [ ] **再レンダリング**: 不要な再レンダリングが発生していないか？

## E. アクセシビリティ
- [ ] **セマンティックHTML**: div/spanの多用を避け、適切なHTML要素（button, nav, main等）を使っているか？
- [ ] **キーボード操作**: Tab/Enterで操作できるか？フォーカス管理は適切か？
- [ ] **コントラスト**: テキストと背景のコントラスト比は十分か？
